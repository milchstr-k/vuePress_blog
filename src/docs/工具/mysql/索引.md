# 索引
> 索引是一种有序的数据结构，帮助Mysql高效获取数据。
> 二叉树，红黑树，B-Tree，B+Tree...
> 增删改，索引节点也需要同步增删改
* B+Tree索引
* Hash索引
* FULL-Text索引
* R-Tree索引

---
* 二叉树
> 顺序插入时，形成链表，查询效率大幅度降低
> 数据结构可视化网站：

* 红黑树
> 自平衡算法防止链表的形成。当数据量特别大时，层级非常深，查找速度同样会很慢。

* B-Tree（多路平衡查找树）


* B+Tree


* Innodb索引结构
> B+Tree非叶子节点不存数据，一页能存的指针和Key就更多，相同数据量的情况下，B+Tree的高度比B-Tree要低，树的高度低，查询次数少，磁盘IO少。

在Innodb里，高度为2的B+Tree，以及高度为3的B+Tree，分别能存多少行数据？假设一行数据大小是1k
> 一页大小：16K，16行
指针：6字节
key: int 4字节
key数量: n, 类型int
4n+6n+6=16*1024， n=1637.8
key: 1637, 指针：1638
高度为2:1638*16=26000条
高度为3:1638x163816=4200万

---

* 索引分类
    * 主键索引
    * 唯一索引
    * 常规索引
    * 全文索引
存储形式不同：
    * 聚集索引（聚簇索引）
    * 二级索引（辅助索引，非聚集索引）
> 如果存在主键，主键索引就是聚集索引
> 如果不存在主键，第一个唯一字段将会被作为聚集索引
> 如果不存在主键也不存在唯一字段，innodb会自动生成一个rowid,作为隐藏的聚集索引

